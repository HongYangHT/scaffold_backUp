<!DOCTYPE html>
<html>
<head>
	<title>YX_N_M_A1C6.html</title>
	<style>
	    @charset "UTF-8";
	    html {
	        font-family: sans-serif;
	        -ms-text-size-adjust: 100%;
	        -webkit-text-size-adjust: 100%;
	    }
	    
	    body {
	        margin: 0;
	    }
	    
	    article,
	    aside,
	    details,
	    figcaption,
	    figure,
	    footer,
	    header,
	    main,
	    menu,
	    nav,
	    section,
	    summary {
	        display: block;
	    }
	    
	    audio,
	    canvas,
	    progress,
	    video {
	        display: inline-block;
	    }
	    
	    audio:not([controls]) {
	        display: none;
	        height: 0;
	    }
	    
	    progress {
	        vertical-align: baseline;
	    }
	    
	    template,
	    [hidden] {
	        display: none;
	    }
	    
	    a {
	        background-color: transparent;
	        -webkit-text-decoration-skip: objects;
	    }
	    
	    a:active,
	    a:hover {
	        outline-width: 0;
	    }
	    
	    abbr[title] {
	        border-bottom: none;
	        text-decoration: underline;
	        text-decoration: underline dotted;
	    }
	    
	    b,
	    strong {
	        font-weight: inherit;
	    }
	    
	    b,
	    strong {
	        font-weight: bolder;
	    }
	    
	    dfn {
	        font-style: italic;
	    }
	    
	    h1 {
	        font-size: 2em;
	        margin: 0.67em 0;
	    }
	    
	    mark {
	        background-color: #ff0;
	        color: #000;
	    }
	    
	    small {
	        font-size: 80%;
	    }
	    
	    sub,
	    sup {
	        font-size: 75%;
	        line-height: 0;
	        position: relative;
	        vertical-align: baseline;
	    }
	    
	    sub {
	        bottom: -0.25em;
	    }
	    
	    sup {
	        top: -0.5em;
	    }
	    
	    img {
	        border-style: none;
	    }
	    
	    svg:not(:root) {
	        overflow: hidden;
	    }
	    
	    code,
	    kbd,
	    pre,
	    samp {
	        font-family: monospace, monospace;
	        font-size: 1em;
	    }
	    
	    figure {
	        margin: 1em 40px;
	    }
	    
	    hr {
	        box-sizing: content-box;
	        height: 0;
	        overflow: visible;
	    }
	    
	    button,
	    input,
	    select,
	    textarea {
	        font: inherit;
	        margin: 0;
	        padding: 0;
	    }
	    
	    optgroup {
	        font-weight: bold;
	    }
	    
	    button,
	    input {
	        overflow: visible;
	    }
	    
	    button,
	    select {
	        text-transform: none;
	    }
	    
	    button,
	    html [type="button"],
	    [type="reset"],
	    [type="submit"] {
	        -webkit-appearance: button;
	    }
	    
	    button::-moz-focus-inner,
	    [type="button"]::-moz-focus-inner,
	    [type="reset"]::-moz-focus-inner,
	    [type="submit"]::-moz-focus-inner {
	        border-style: none;
	        padding: 0;
	    }
	    
	    button:-moz-focusring,
	    [type="button"]:-moz-focusring,
	    [type="reset"]:-moz-focusring,
	    [type="submit"]:-moz-focusring {
	        outline: 1px dotted ButtonText;
	    }
	    
	    fieldset {
	        border: 1px solid #c0c0c0;
	        margin: 0 2px;
	        padding: 0.35em 0.625em 0.75em;
	    }
	    
	    legend {
	        box-sizing: border-box;
	        color: inherit;
	        display: table;
	        max-width: 100%;
	        padding: 0;
	        white-space: normal;
	    }
	    
	    textarea {
	        overflow: auto;
	    }
	    
	    [type="checkbox"],
	    [type="radio"] {
	        box-sizing: border-box;
	        padding: 0;
	    }
	    
	    [type="number"]::-webkit-inner-spin-button,
	    [type="number"]::-webkit-outer-spin-button {
	        height: auto;
	    }
	    
	    [type="search"] {
	        -webkit-appearance: textfield;
	        outline-offset: -2px;
	    }
	    
	    [type="search"]::-webkit-search-cancel-button,
	    [type="search"]::-webkit-search-decoration {
	        -webkit-appearance: none;
	    }
	    
	    ::-webkit-input-placeholder {
	        color: inherit;
	        opacity: 0.54;
	    }
	    
	    ::-webkit-file-upload-button {
	        -webkit-appearance: button;
	        font: inherit;
	    }
    </style>
    <style type="text/css">
    	.YX-N-M-A1C6{
    		position: relative;
    		padding: 40px 0 30px;
    		background: #fff;
    		overflow: hidden;
		    font-family: 'Hiragino Sans GB W3', 'Microsoft YaHei', Helvetica, Arial, sans-serif;
    	}
    	.YX-N-M-A1C6 .m-A1C6-title{
			width: 681px;
		    height: 76px;
		    margin: 0 auto;
		    background: url(http://mimg.127.net/hz/uploader/20160823/14719320935940206.png) no-repeat;
    	}
    	.YX-N-M-A1C6 .m-A1C6-goods{
    		width: 995px;
    		margin: 0 auto;
    	}
    	.YX-N-M-A1C6 .u-A1C6-tip{
    		width: 995px;
    		margin: 50px auto 0;
		    color: #cfcfcf;
    		font-size: 12px;
		    text-align: right;
    	}
    	.YX-N-M-A1C6 .m-goods-list{
    		width: 100%;
    		height: 755px;
    		margin:0;
    		padding:35px 0 0;
    	}
    	.YX-N-M-A1C6 .m-goods-list:before,
    	.YX-N-M-A1C6 .m-goods-list:after{
		    display: table;
		    content: '';
    		line-height: 0;
    	}
    	.YX-N-M-A1C6 .m-goods-list li{
    		display: inline-block;
    		float: left;
    		margin-left: 9px;
    		list-style: none;
    	}
    	.YX-N-M-A1C6 .m-goods-list li:first-child
    	.YX-N-M-A1C6 .m-goods-list li:nth-child(5){
    		margin-left: 0;
    	}
    	.YX-N-M-A1C6 .m-goods-list .u-item{
		    width: 235px;
		    margin-top: 10px;
		    border-color: #f4f4f4;
		    background-color: #f4f4f4;
	        border: 2px solid transparent;
    	}
    	.YX-N-M-A1C6 .m-goods-list .u-item:hover{
		    border-color: #f1586e;
    	}
    	.YX-N-M-A1C6 .m-goods-list .u-item-img{
    		position: relative;
		    width: 235px;
		    height: 250px;
		    border-bottom: 1px dotted #e2e1e1;
		    overflow: hidden;
    	}
    	.YX-N-M-A1C6 .m-goods-list .u-icon{
    		position: absolute;
		    top: 8px;
		    left: 8px;
		    z-index: 3;
    	}
    	.YX-N-M-A1C6 .m-goods-list .u-tip-icon{
		    display: block;
		    display: table-cell;
		    width: 55px;
		    height: 55px;
		    color: #f1677b;
		    border-radius: 55px;
		    border: 1px solid #f1677b;
		    background-color: transparent;
		    font-size: 14px;
		    font-style: normal;
		    line-height: 14px;
		    text-align: center;
		    vertical-align: middle;
    	}
    	.YX-N-M-A1C6 .m-goods-list .u-item-img img{
    		display: block;
    		position: absolute;
    		width: 235px;
    		height: 250px;
		    top: 0;
		    left: 0;
		    border-style: none;
		    z-index: 2;
    	}
    	.YX-N-M-A1C6 .m-goods-list .u-item-name{
		    padding-top: 15px;
    		text-align: center;
    	}
    	.YX-N-M-A1C6 .m-goods-list .u-item-name .f-fontSize-16{
    		display: block;
    		color: #666;
    		font-size: 16px;
    	}
    	.YX-N-M-A1C6 .m-goods-list .u-item-name .f-fontSize-14{
    		display: block;
    		color: #999;
    		font-size: 14px;
    	}
    	.YX-N-M-A1C6 .m-goods-list .u-item-prize{
		    color: #333;
		    padding-top: 5px;
		    padding-bottom: 20px;
    		font-size: 22px;
		    text-align: center;
    	}
    	.YX-N-M-A1C6 .m-goods-list .u-yen{
			display: inline-block;
			font-style: normal;
		}
		.YX-N-M-A1C6 .m-goods-list .u-yen:before{
			content:'￥';
			font-size: 12px;
		}
		.YX-N-M-A1C6 .m-goods-list .u-del{
			display: inline-block;
		    color: #999;
		    margin-left: 5px;
		    font-size: 14px;
		    font-style: normal;
		    text-decoration: line-through;
		}
		.YX-N-M-A1C6 .m-goods-list .u-yen:before{
			content:'￥';
			font-size: 12px;
		}
		.YX-N-M-A1C6 .m-goods-list .u-btn{
			display: inline-block;
			width: 81px;
			height: 22px;
			color: #fff;
			margin-left: 10px;
			background-color: #f1586e;
		    font-size: 13px;
			line-height: 22px;
		}
		.YX-N-M-A1C6 .u-btn {
		    cursor: pointer;
		    text-decoration: none;
		    border: none;
		    outline: 0;
		}
		.YX-N-M-A1C6 .f-hide{
			display: none;
		}
    </style>
</head>
<body>
	<div class="YX-N-M-A1C6">
		<!-- 需要用到的数据信息 -->
    	<div class="J_module_info f-hide">
    		<div class="goodsId" data-goodsId="71"></div>
			<div class="stat_subject" data-stat_subject="dahua"></div>
    	</div>
		<div class="m-A1C6-goods">
			<div class="m-A1C6-title"></div>
    		<ul class="m-goods-list">
    			
    		</ul>
    		<p class="u-A1C6-tip">*价格为市场同类商品的参考价</p>
    	</div>
	</div>
	<script type="text/javascript" src="http://mimg.127.net/pub/common/js/jquery.min.js"></script>
    <script type="text/javascript" src="http://mimg.127.net/pub/common/js/jquery.lazyload.js"></script>
    <script type="text/javascript" src="http://mimg.127.net/pub/common/js/PSC_YX_C_normal.js"></script>
    <script type="text/javascript" src="http://mimg.127.net/pub/common/js/PSC_C_statistics.js"></script>
    <script type="text/javascript">
    	(function(){
    		var myModule = {
    			getAjaxData: function(url, data, callback) {
		            var self = this;
		            $.ajax({
		                type: 'GET',
		                url: url,
		                async: false,
		                cache: false,
		                dataType: 'jsonp',
		                data: data || '',
		                success: function(res) {
		                    callback(res);
		                }
		            });
		        },
		        unExpand: function(str, name) {
		            var self = this,
		            	reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)'),
		            	r = str.match(reg);
		            if (r != null) return unescape(r[2]);
		            return null;
		        },
		        addCart: function(element) {
		            element.off('click').on('click', function() {
		                var _skuid = $(this).attr('data-skuid'),
		                    _img = $(this).attr('data-img');

		                try {
		                    window.PSC_YX_API.addCart(_skuid, _img, 1, function(_res) {
		                        var _code = _res.code;
		                        if (_code == 200) {
		                            window.PSC_YX_API.cartPcAnimate(_img, 2000);
		                        } else {
		                            alert('商品已下架');
		                            return false;
		                        }
		                    });
		                } catch (e) {
		                    alert('商品已下架');
		                }
		            });
		        },
		         /**
		          * goods 中的extend格式为 name=tip_key&type=input&value= Carters<br>制造商&cName=气泡文案
		          * _stat_subject 这个由goods的添加字段
		          */
		        goodsList:function(element, id, subject){
		        	var self = this,
            			_html = '';
            		self.getAjaxData('http://activity.mail.163.com/hdapi/api2/goods/ajax/getGroup.do', {
		                id: id
		            }, function(res) {
		            	var _goods = res.content.goodsList,
		            		_html = '',
		            		_subject = $(element).find('.stat_subject').val();
		            	$.each(_goods,function(k,v){
		            		var _detail = v.detail;
		                    	_icon = self.unExpand(_detail.extend, 'value'),
		                    	_class = _icon == ' ' ? 'f-hide' : 'u-tip-icon',
		                    	_unit = _detail.unitPrice == '' ? 　'' : _detail.unitPrice;
		                    _html += [
		                    	   '<li class="f-inline">',
		                    	   	   '<div class="u-item">',
		                    	           '<div class="u-item-img">',
		                    	               '<div class="u-icon">',
		                    	               	   '<i class="' + _class + '">' + _icon + '</i>',
		                    	   			   '</div>',
	                    	               	   '<a href="http://you.163.com/item/detail?id=' + _detail.id + '&_stat_subject='+_subject+'" class="PSC_J_normal_statistics_Goods" target="_blank">',
	                    	               	       '<img class="lazy" data-original="' + _detail.primaryPicUrl + '" />',
	                    	               	   '</a>',
		                    	            '</div>',
		                    	            '<div class="u-item-name">',
		                    	            	'<span class="f-fontSize-16">' + _detail.title + '</span>',
		                    	            	'<span class="f-fontSize-14">' + _detail.simpleDesc + '</span>',
		                    	            '</div>',
		                    	            '<div class="u-item-prize">',
		                    	            	'<span>',
		                    	            		'<i class="u-yen">'+ _detail.retailPrice +'</i>',
		                    	            		'<i class="u-del">' + _unit + '</i>',
		                    	            	'</span>',
		                    	            	'<button type="button" data-skuid="' + _detail.primarySkuId + '" data-img="' + _detail.primaryPicUrl + '" class="u-btn J-addCart PSC_J_normal_statistics_Goods">加入购物车</button>',	
		                    	            '</div>',
		                    	       '</div>',
		                    	   '</li>'
		                    ].join('');	
		            	});
		            	$(element).find('ul').empty().append(_html);
		            	setTimeout(function() {
		                    self.addCart($('.J-addCart'));
		                    $("img.lazy").lazyload({
		                        effect: "fadeIn",
		                        threshold: 500,
		                    });
		                }, 200);	
		            });		
		        }
    		};

    		$('.YX-N-M-A1C6 .goodsId').each(function(i, n) {
				var _id = $(n).data('goodsid');
				myModule.goodsList($(n).closest('.YX-N-M-A1C6'), _id,'');
			});
			$('body').on('click', '.PSC_J_normal_statistics_Goods', function(e) {
				PSC_C_statistics.normalGoods(this);
			});
    	})();
    </script>
</body>
</html>